<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Inverter Analytics - Solar Plant Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico" />

  

  <link rel="stylesheet" href="styles.css">
  <style>
    :root { --card:#fff; --muted:#f4f6f8; --text:#111; --border:#e5e7eb; }
    body { margin:0; font:14px/1.4 system-ui,-apple-system,"Segoe UI",Roboto; color:var(--text); background:#f7f7f7; }
    .wrap { max-width:1200px; margin:0 auto; padding:16px; }
    .bar { display:flex; gap:16px; align-items:center; flex-wrap:wrap; }
    .pill { background:#fff; border:1px solid var(--border); border-radius:10px; padding:6px 10px; }
    .btn { border:1px solid var(--border); background:#fff; border-radius:8px; padding:6px 10px; cursor:pointer; }
    .btn[disabled]{opacity:.5; cursor:not-allowed}
    .cards { display:grid; grid-template-columns: repeat(3,1fr); gap:16px; margin:16px 0; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:16px; min-height:72px; }
    .muted { color:#666; font-size:12px; }
    .grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
    .panel { background:#fff; border:1px solid var(--border); border-radius:12px; padding:12px; }
    .h6 { margin:0 0 8px; font-weight:600; }
    .dd { position:relative; }
    .dd-menu { position:absolute; z-index:10; top:110%; left:0; min-width:280px; background:#fff; border:1px solid var(--border); border-radius:10px; box-shadow:0 6px 18px rgba(0,0,0,.08); padding:10px; display:none; max-height:320px; overflow:auto;}
    .dd.open .dd-menu{display:block}
    .dd-row { display:flex; align-items:center; gap:8px; padding:6px 4px; }
    .dd-footer { display:flex; justify-content:flex-end; gap:8px; padding-top:8px; border-top:1px solid var(--border); }
    .skeleton { background:linear-gradient(90deg,#eee,#f7f7f7,#eee); background-size:200% 100%; animation:sh 1.2s infinite; height:280px; border-radius:10px; }
    @keyframes sh{0%{background-position:200% 0}100%{background-position:-200% 0}}
    canvas { width:100%; height:300px; }
    @media (max-width:1100px){ .grid{grid-template-columns:1fr} .cards{grid-template-columns:1fr} }
  </style>
  <link rel="stylesheet" href="nav.css">
  <script defer src="nav.js"></script>
<style>/*topbar-shim*/
.topbar{position:sticky;top:0;z-index:1000;background:#fff}
.has-topbar{scroll-margin-top:64px}
</style>
<style>/*topbar-shim*/
.topbar{position:sticky;top:0;z-index:1000;background:#fff}
.has-topbar{scroll-margin-top:64px}
</style>
</head>

<nav class="sp-topnav">
  <div class="brand">Solar Plant Dashboard</div>
  <div class="links">
    <a href="meter.v2.html">Meter</a>
    <a href="inverter_analytics.html">Inverter_Analytics</a>
    <a href="inverter_data_overview.html">Inverter_Data_Overview</a>
    <a href="inverter_faults.html">Inverter_Faults</a>
    <a href="maintenance.html">Maintenance</a>
  </div>
</nav>
<div id="plantBar" class="sp-plantbar"></div>
<header class="topbar">
  <div class="container">
    <div class="brand">Solar Plant Dashboard</div>
    <nav class="tabs">
      <a href="meter.v2.html">Meter</a>
      <a href="inverter_analytics.html">Inverter Analytics</a>
      <a href="inverter_data_overview.html">Inverter Data Overview</a>
      <a href="inverter_faults.html">Inverter Faults</a>
      <a href="maintenance.html">Maintenance</a>
    </nav>
  </div>
</header>


<div class="wrap">

    <!-- Top row: section pills + helper -->
    
    </div>

    <!-- Filters -->
    <div class="bar" style="margin-top:12px; gap:10px;">
      <!-- Plant dropdown -->
      <div id="plant-dd" class="dd">
        <button id="plantBtn" class="btn">Plant: <b id="plantBtnText">All</b></button>
        <div class="dd-menu">
          <div class="dd-row"><label><input type="checkbox" id="plantAll" checked> <b>All plants</b></label></div>
          <div id="plantList"></div>
          <div class="dd-footer">
            <button id="plantCancel" class="btn">Cancel</button>
            <button id="plantApply" class="btn">Apply</button>
          </div>
        </div>
      </div>

      <!-- View pills -->
      <div class="pill">
        <button class="btn" data-view="day">Day</button>
        <button class="btn" data-view="week">Week</button>
        <button class="btn" data-view="month">Month</button>
        <button class="btn" data-view="year">Year</button>
        <button class="btn" data-view="lifetime">Lifetime</button>
      </div>

      <!-- Date + arrows -->
      <div class="pill"><input id="datePick" type="date" /></div>
      <button id="prevBtn" class="btn">&#x25C0;</button>
      <button id="nextBtn" class="btn">&#x25B6;</button>
      <button id="todayBtn" class="btn">Today</button>
    </div>

    <!-- KPI cards -->
    <div class="cards">
      <div class="card">
        <div class="muted">TOTAL YIELD</div>
        <div id="cardYield" style="font-size:24px;font-weight:700">0.00 <span id="cardYieldUnit" class="muted">MWh</span></div>
      </div>
      <div class="card"><div class="muted">CUF</div><div class="muted">coming soon</div></div>
      <div class="card"><div class="muted">PR</div><div class="muted">coming soon</div></div>
    </div>

    <!-- Charts -->
    <div class="grid">
      <div class="panel">
        <div class="h6">Daily Power Curve</div>
        <div id="powerShell" class="skeleton"></div>
        <canvas id="powerChart" style="display:none"></canvas>
      </div>
      <div class="panel">
        <div class="h6">Yield Trend</div>
        <div id="yieldShell" class="skeleton"></div>
        <canvas id="yieldChart" style="display:none"></canvas>
      </div>
    </div>

  </div><!-- /.wrap -->

  <!-- Chart libs + page script -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script src="assets/js/inverter-analytics.js"></script>

  <!-- nav active helper (for older nav.js) -->
  <script>
    (function(){
      try{
        var m = document.getElementById('topnav');
        if(m) m.setAttribute('data-active', 'inverter_analytics');
      }catch(e){}
    })();
  </script>
</body>
</html>